+++
title = "Loop Optimization"
draft = true
[extra]
due = "November 2"
+++
## Gist

* Recall: natural loops and loop-invariant code motion, from [Lesson 5][l5].
* Loop optimization is important because programs, by definition, spend most of their time executing loops! (A program without any loops can't run for very long.)

### Induction Variable Elimination

[Induction variable elimination.](https://www.cs.cmu.edu/~15745/lectures/L8-Induction-Variables.pdf)

### Lazy Code Motion??

[Lazy code motion.](https://dl.acm.org/citation.cfm?id=143095.143136)
[Partial redundancy elimination.](https://en.wikipedia.org/wiki/Partial_redundancy_elimination)

## Tasks

Your task is to implement and evaluate a loop optimization.

* First, pick Bril or LLVM as your starting point. You can work in the SSA form of Bril if you want.
* Then, pick your optimization. Choose one of these, or propose your own (and DM me on Zulip before you start working on it to clear any ideas not on this list):
    * Loop-invariant code motion.
    * Induction variable strength reduction.
    * Lazy code motion.
* Implement your optimization.
* Rigorously evaluate its performance impact. See the [SIGPLAN empirical evaluation guidelines][eeg] for the definition of "rigorous."
    * In Bril, you can use [the Bril benchmarks][bench].
    * If you choose LLVM, select an existing (small!) benchmark suite such as [Embench][].

[bench]: https://capra.cs.cornell.edu/bril/tools/bench.html
[l5]: @/lesson/5.md
[embench]: https://www.embench.org
[eeg]: https://www.sigplan.org/Resources/EmpiricalEvaluation/
